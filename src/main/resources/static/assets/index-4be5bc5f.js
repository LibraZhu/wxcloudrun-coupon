import{d as x,Q as S,o as w,A as I,C as s,a,L as l,N as p,D as k,H as B,G as C,O as L,P as N,E as V,I as P}from"./index-47e2b40a.js";/* empty css              */import{B as T}from"./index-59155b31.js";import"./index-dd22c253.js";import{F as b}from"./index-9c118d08.js";import{I as q}from"./index-84671b39.js";import{s as D,a as H,c as O,b as E}from"./index-79c4f64d.js";import{S as d,g as _}from"./base64-982431c5.js";import{u as F}from"./useApp-90f235e4.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-id-b95949a2.js";const n=c=>(L("data-v-661c1914"),c=c(),N(),c),z={class:"search-container"},A={class:"search-title flex"},G=n(()=>s("span",null,"复制商品链接",-1)),K=n(()=>s("span",{class:"search-arrow"},null,-1)),Q=n(()=>s("span",null,"打开公众号",-1)),R=n(()=>s("span",{class:"search-arrow"},null,-1)),U=n(()=>s("span",null,"搜券查优惠",-1)),W={class:"search-textarea"},j={class:"flex p-16"},M=x({name:"Search",__name:"index",setup(c){F();const{assets:i}=V(),r=S(),o=w(""),h=()=>{o.value=""},m=()=>{o.value.length!==0&&(o.value.indexOf("http")!==-1?(D({message:"搜索中",duration:0}),H(o.value).then(u=>{O();const t=u.data??[];if(t.length===0)E("没有找到商品");else if(t.length===1){const e=t[0];e.source==d.JD||e.source==d.TB||e.source==d.WPH?r.push({name:"ProductDetail",query:{data:_.encode(JSON.stringify(e)),type:e.source}}):r.push({name:"ProductDetail",query:{id:e.goods_id,sid:e.searchId,type:e.source,data:_.encode(JSON.stringify(e))}})}else{const e=t[0];r.push({name:"SearchList",query:{type:e.source,keyword:e.goods_name}})}})):r.push({name:"SearchList",query:{keyword:o.value}}))};return(u,t)=>{const e=q,f=b,g=P,v=T;return C(),I(B,null,[s("div",z,[s("div",A,[a(e,{width:"20",height:"20",src:l(i)("copy.png")},null,8,["src"]),G,K,a(e,{size:"20",src:l(i)("miniprogram.png")},null,8,["src"]),Q,R,a(e,{width:"20",height:"20",src:l(i)("discount.png")},null,8,["src"]),U]),s("div",W,[a(f,{type:"textarea",border:!1,autosize:{maxHeight:150,minHeight:150},modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=y=>o.value=y),placeholder:"搜索商品链接/标题/关键字（长按粘贴）"},null,8,["modelValue"]),s("div",{class:"search-textarea-clear",onClick:h},[a(g,{name:"delete-o"}),p("清空搜索 ")])])]),s("div",j,[a(v,{class:"search-btn-right",onClick:m},{default:k(()=>[p("一键搜索")]),_:1})])],64)}}});const re=J(M,[["__scopeId","data-v-661c1914"]]);export{re as default};
