import{d as U,X as $,o as i,z as A,A as m,C as r,a as l,N as F,H as x,J as I,D as C,E as W,F as G,G as d,a0 as J,M as O,$ as X,_ as Y,O as K,P as Q,I as Z}from"./index-392e4120.js";/* empty css              */import{P as ee}from"./index-a1c98717.js";import{E as ae}from"./index-9a47d5f2.js";import{L as ne}from"./index-d3311b8c.js";import{b as te,T as se}from"./index-998fa057.js";import{I as oe}from"./index-75e0eda4.js";import{l as ie}from"./index-9a7327bb.js";import{S as f}from"./base64-982431c5.js";import{u as le}from"./useApp-3ee54425.js";import{_ as de}from"./ProductItem.vue_vue_type_style_index_0_lang-08a7fa67.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-id-cfab6299.js";import"./use-tab-status-f6d031c7.js";import"./index-d152ea4c.js";const S=h=>(K("data-v-c659a866"),h=h(),Q(),h),ce={class:"search-navbar-container"},me={class:"search-navbar",style:{"margin-right":"{{menuLeft}}px"}},ue={class:"search-tab"},pe=["onClick"],ve=S(()=>r("div",{class:"divider"},null,-1)),_e={class:"page-container"},fe=S(()=>r("div",{class:"divider-list"},null,-1)),he=U({__name:"ProductList",setup(h){var L;le();const T=$(),{assets:u}=W(),V={2:u("jd_w.png"),1:u("pdd_w.png"),4:u("dy_w.png"),3:u("tb_w.png"),5:u("wph_w.png")},s=i("2"),p=i([{id:"2",name:"精选"},{id:"23",name:"为你推荐"},{id:"41",name:"热销"},{id:"10",name:"9.9包邮"},{id:"26",name:"母婴"},{id:"28",name:"美妆"},{id:"30",name:"图书"},{id:"27",name:"居家"},{id:"25",name:"超市"}]),j=[{id:0,name:"综合"},{id:9,name:"价格"},{id:6,name:"销量"}],o=i(parseInt(((L=T.query.type)==null?void 0:L.toString())??"2"));o.value==f.PDD?(p.value=[{id:"0",name:"精选"},{id:"-1",name:"热销"},{id:"4",name:"母婴"},{id:"15",name:"百货"},{id:"1",name:"美食"},{id:"14",name:"女装"},{id:"16",name:"美妆"},{id:"1281",name:"鞋包"},{id:"743",name:"男装"},{id:"2478",name:"文具"}],s.value="0"):o.value==f.TB?(p.value=[{id:"0",name:"精选"},{id:"1",name:"母婴"},{id:"2",name:"百货"},{id:"3",name:"美食"},{id:"4",name:"女装"},{id:"5",name:"美妆"},{id:"6",name:"鞋包"},{id:"7",name:"男装"},{id:"8",name:"数码"}],s.value="0"):o.value==f.DY?(p.value=[{id:"1",name:"女装"},{id:"2",name:"男装"},{id:"8",name:"食品"},{id:"9",name:"美妆"},{id:"3",name:"箱包"},{id:"4",name:"护肤"},{id:"5",name:"家居"},{id:"6",name:"数码"},{id:"7",name:"户外"}],s.value="1"):o.value==f.WPH&&(p.value=[{id:"wbjf2n26",name:"精选"},{id:"4hm6c35w",name:"热销"},{id:"0lreb0o6",name:"母婴"},{id:"fqs3ruqw",name:"女装"},{id:"x6kihigh",name:"美妆"},{id:"2jo673jj",name:"鞋包"},{id:"kkhewi9q",name:"男装"},{id:"axu1ike2",name:"居家"}],s.value="wbjf2n26");const w=i(0),a={page:1,pageSize:20},n=i([]),c=i(!1),v=i(!1),g=i(!1),E=_=>{n.value=[],s.value=_.id,b()},q=()=>{G.push({name:"SearchList",query:{type:o.value}})},B=()=>{n.value=[],b()},b=()=>{c.value=!0,v.value=!1,g.value=!0,a.page=1,P()},D=()=>{n.value.length<a.page||(a.page++,P())},P=()=>{a.source=o.value,o.value==f.WPH?a.jxCode=s.value:a.optId=parseInt(s.value),a.sortType=w.value,ie(a).then(_=>{var y,k;const t=((y=_.data)==null?void 0:y.list)??[];a.page===1?n.value=t:n.value=n.value.concat(t),c.value=!1,v.value=!1,g.value=n.value.length>=((k=_.data)==null?void 0:k.total)}).catch(()=>{c.value=!1,v.value=!1,g.value=!0,a.page>1&&a.page--})};return A(()=>{b()}),(_,t)=>{const y=oe,k=Z,N=se,R=te,z=ne,H=ae,M=ee;return d(),m(x,null,[r("div",ce,[r("div",me,[l(y,{width:"22px",height:"22px",src:V[o.value]},null,8,["src"]),r("div",{class:"search-navbar-search",onClick:q},[l(k,{name:"search",color:"#999"}),F("搜索你想要的商品 ")])]),r("div",ue,[(d(!0),m(x,null,I(p.value,e=>(d(),m("div",{class:J(e.id===s.value?"search-tab-item search-tab-item-active":"search-tab-item"),key:e.id,onClick:ge=>E(e)},O(e.name),11,pe))),128))])]),l(R,{ellipsis:!1,active:w.value,"onUpdate:active":t[0]||(t[0]=e=>w.value=e),color:"#fe8124","title-active-color":"#fe8124",onChange:B},{default:C(()=>[(d(),m(x,null,I(j,e=>l(N,{key:e.id,title:e.name,name:e.id},null,8,["title","name"])),64))]),_:1},8,["active"]),ve,r("div",_e,[l(M,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),onRefresh:b},{default:C(()=>[l(z,{loading:v.value,"onUpdate:loading":t[1]||(t[1]=e=>v.value=e),finished:g.value,"finished-text":n.value.length>0?"没有更多了":"",onLoad:D},{default:C(()=>[(d(!0),m(x,null,I(n.value,e=>(d(),m("div",{style:{position:"relative","background-color":"white"},key:e.goods_id},[l(de,{from:"collect",product:e},null,8,["product"]),fe]))),128))]),_:1},8,["loading","finished","finished-text"]),!c.value&&n.value.length===0?(d(),X(H,{key:0,description:"还没有数据~"})):Y("",!0)]),_:1},8,["modelValue"])])],64)}}});const Be=re(he,[["__scopeId","data-v-c659a866"]]);export{Be as default};
