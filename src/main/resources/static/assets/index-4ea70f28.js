import{d as U,X as M,Q as A,o as p,z as D,A as l,a as g,D as k,H as V,E as O,G as n,J as S,C as s,M as i,_,N as T,a0 as j,$ as q,O as F,P as G}from"./index-392e4120.js";/* empty css              */import{P as H}from"./index-a1c98717.js";import{E as J}from"./index-9a47d5f2.js";import{L as Q}from"./index-d3311b8c.js";import{b as X,T as $}from"./index-998fa057.js";import{o as K}from"./index-9a7327bb.js";import{u as W}from"./useApp-3ee54425.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-id-cfab6299.js";import"./use-tab-status-f6d031c7.js";const x=v=>(F("data-v-cf53f698"),v=v(),G(),v),Z=x(()=>s("div",{style:{height:"12px"}},null,-1)),ee={class:"flex-column order-item"},se={class:"order-time"},te={class:"flex"},ae={class:"flexable order-time"},oe={key:0,class:"flexable order-time"},ne=x(()=>s("div",{class:"divider",style:{"margin-top":"7px","margin-bottom":"7px"}},null,-1)),le={class:"flex"},ie=["src"],re={class:"order-product-content"},de={class:"order-product-title van-multi-ellipsis--l2"},ue=["src"],ce={class:"flex order-product-price"},pe=x(()=>s("div",{style:{"font-size":"12px"}},"¥",-1)),_e={class:"order-product-num"},ve={key:0,style:{"margin-right":"16px"}},fe=x(()=>s("span",{style:{"font-size":"12px"}},"¥",-1)),me={key:1,class:"order-status-span"},he=U({name:"Order",__name:"index",setup(v){var L;W();const C=M();A();const{assets:d}=O(),N=[{id:0,name:"全部"},{id:1,name:"待收货"},{id:2,name:"待结算"},{id:3,name:"已结算"},{id:4,name:"已失效"}],w={1:d("pdd.png"),2:d("jd.png"),3:d("tb.png"),4:d("dy.png"),5:d("wph.png")},u=p(0);u.value=parseInt(((L=C.query.type)==null?void 0:L.toString())??"0");const t={page:1,pageSize:20},a=p([]),r=p(!1),c=p(!1),f=p(!1),z=()=>{a.value=[],y()},y=()=>{r.value=!0,c.value=!1,f.value=!0,t.page=1,I()},E=()=>{a.value.length<t.page||(t.page++,I())},I=()=>{u.value!==0?t.status=u.value:t.status=void 0,K(t).then(b=>{var m,h;const o=((m=b.data)==null?void 0:m.list)??[];t.page===1?a.value=o:a.value=a.value.concat(o),r.value=!1,c.value=!1,f.value=a.value.length>=((h=b.data)==null?void 0:h.total)}).catch(()=>{r.value=!1,c.value=!1,f.value=!0,t.page>1&&t.page--})};return D(()=>{y()}),(b,o)=>{const m=$,h=X,P=Q,R=J,B=H;return n(),l(V,null,[g(h,{active:u.value,"onUpdate:active":o[0]||(o[0]=e=>u.value=e),onChange:z},{default:k(()=>[(n(),l(V,null,S(N,e=>g(m,{key:e.id,title:e.name,name:e.id},null,8,["title","name"])),64))]),_:1},8,["active"]),g(B,{class:"page-container",modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=e=>r.value=e),onRefresh:y},{default:k(()=>[g(P,{loading:c.value,"onUpdate:loading":o[1]||(o[1]=e=>c.value=e),finished:f.value,"finished-text":a.value.length>0?"没有更多了":"",onLoad:E},{default:k(()=>[(n(!0),l(V,null,S(a.value,e=>(n(),l("div",{key:e.id},[Z,s("div",ee,[s("span",se,"订单号："+i(e.orderId),1),s("div",te,[s("span",ae,"下单："+i(e.orderTime),1),e.finishTime?(n(),l("span",oe,"完成："+i(e.finishTime),1)):_("",!0)]),ne,s("div",le,[s("img",{style:{width:"80px",height:"80px"},src:e.imageUrl},null,8,ie),s("div",re,[s("div",de,[s("img",{style:{width:"16px",height:"16px"},src:w[e.orderSource??0].toString()},null,8,ue),T(" "+i(e.skuName),1)]),s("div",ce,[pe,s("div",null,i(e.priceTotal),1),s("div",_e,"共"+i(e.skuNum)+"件",1),e.rebate?(n(),l("div",ve,[T(" 返 "),fe,T(i(e.rebate),1)])):_("",!0)])])]),e.status?(n(),l("div",{key:0,class:j(["order-status-bg-b",{"order-status-bg-invalid":e.status===4}])},null,2)):_("",!0),e.status?(n(),l("div",me,i(e.status===1?"待收货":e.status===2?"待结算":e.status===3?"已结算":"已失效"),1)):_("",!0)])]))),128))]),_:1},8,["loading","finished","finished-text"]),!r.value&&a.value.length===0?(n(),q(R,{key:0,style:{height:"calc(100vh - 150px)"},description:"还没有数据~"})):_("",!0)]),_:1},8,["modelValue"])],64)}}});const Ne=Y(he,[["__scopeId","data-v-cf53f698"]]);export{Ne as default};
