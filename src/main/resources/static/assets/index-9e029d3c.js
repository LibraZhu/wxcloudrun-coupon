import{d as L,o as u,z as k,$ as f,D as v,G as c,a as g,A as _,J as x,H as C,_ as y,C as P}from"./index-47e2b40a.js";/* empty css              */import{P as B}from"./index-ec807d4b.js";import{E}from"./index-03d0c034.js";import{L as N}from"./index-5035f66e.js";import{q as R}from"./index-79c4f64d.js";import{u as w}from"./useApp-90f235e4.js";import{_ as z}from"./ProductItem.vue_vue_type_style_index_0_lang-957453e5.js";import"./use-id-b95949a2.js";import"./use-tab-status-6cb74775.js";import"./index-59155b31.js";import"./index-84671b39.js";import"./base64-982431c5.js";const A=P("div",{class:"divider-list"},null,-1),O=L({name:"Collect",__name:"index",setup(M){w();const t={page:1,pageSize:20},e=u([]),o=u(!1),s=u(!1),n=u(!1),d=()=>{o.value=!0,s.value=!1,n.value=!0,t.page=1,m()},h=()=>{e.value.length<t.page||(t.page++,m())},m=()=>{R(t).then(p=>{var r,i;const a=((r=p.data)==null?void 0:r.list)??[];t.page===1?e.value=a:e.value=e.value.concat(a),o.value=!1,s.value=!1,n.value=e.value.length>=((i=p.data)==null?void 0:i.total)}).catch(()=>{o.value=!1,s.value=!1,n.value=!0,t.page>1&&t.page--})};return k(()=>{d()}),(p,a)=>{const r=N,i=E,V=B;return c(),f(V,{class:"page-container",modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=l=>o.value=l),onRefresh:d},{default:v(()=>[g(r,{loading:s.value,"onUpdate:loading":a[0]||(a[0]=l=>s.value=l),finished:n.value,"finished-text":e.value.length>0?"没有更多了":"",onLoad:h},{default:v(()=>[(c(!0),_(C,null,x(e.value,l=>(c(),_("div",{style:{position:"relative","background-color":"white"},key:l.goods_id},[g(z,{from:"collect",product:l},null,8,["product"]),A]))),128))]),_:1},8,["loading","finished","finished-text"]),!o.value&&e.value.length===0?(c(),f(i,{key:0,description:"还没有数据~"})):y("",!0)]),_:1},8,["modelValue"])}}});export{O as default};
