import{d as P,o as c,z as E,A as f,C as g,H as x,J as y,a as v,D as k,E as S,G as d,a0 as B,M as z,$ as A,_ as M,O as N,P as R}from"./index-47e2b40a.js";/* empty css              */import{P as $}from"./index-ec807d4b.js";import{E as j}from"./index-03d0c034.js";import{L as D}from"./index-5035f66e.js";import{I as H}from"./index-84671b39.js";import{t as U}from"./index-79c4f64d.js";import{u as F}from"./useApp-90f235e4.js";import{_ as G}from"./ProductItem.vue_vue_type_style_index_0_lang-957453e5.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-id-b95949a2.js";import"./use-tab-status-6cb74775.js";import"./index-59155b31.js";import"./base64-982431c5.js";const O=r=>(N("data-v-38df0526"),r=r(),R(),r),T={class:"hot-tab"},q=["onClick"],K=O(()=>g("div",{class:"divider-list"},null,-1)),Q=P({name:"Hot",inheritAttrs:!1,__name:"index",setup(r){F();const{assets:a}=S(),b=[{id:2,name:"京东",icon:a("jd_w.png"),icon_c:a("jd_c.png")},{id:1,name:"拼多多",icon:a("pdd_w.png"),icon_c:a("pdd_c.png")},{id:4,name:"抖音",icon:a("dy_w.png"),icon_c:a("dy_c.png")},{id:3,name:"淘宝",icon:a("tb_w.png"),icon_c:a("tb_c.png")},{id:5,name:"唯品会",icon:a("wph_w.png"),icon_c:a("wph_c.png")}],o={page:1,pageSize:20},t=c([]),s=c(!1),l=c(!1),p=c(!1),u=c(2),V=i=>{u.value=i.id,t.value=[],h()},h=()=>{s.value=!0,l.value=!1,p.value=!0,o.page=1,w()},C=()=>{t.value.length<o.page||(o.page++,w())},w=()=>{o.source=u.value,U(o).then(i=>{var _,m;const n=((_=i.data)==null?void 0:_.list)??[];o.page===1?t.value=n:t.value=t.value.concat(n),s.value=!1,l.value=!1,p.value=t.value.length>=((m=i.data)==null?void 0:m.total)}).catch(()=>{s.value=!1,l.value=!1,p.value=!0,o.page>1&&o.page--})};return E(()=>{h()}),(i,n)=>{const _=H,m=D,I=j,L=$;return d(),f(x,null,[g("div",T,[(d(),f(x,null,y(b,e=>g("div",{class:B(e.id===u.value?"hot-tab-item hot-tab-item-active":"hot-tab-item"),"wx:key":"index",onClick:W=>V(e)},[v(_,{width:"16",height:"16",src:e.id===u.value?e.icon_c:e.icon},null,8,["src"]),g("text",null,z(e.name),1)],10,q)),64))]),v(L,{class:"page-container",modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=e=>s.value=e),onRefresh:h},{default:k(()=>[v(m,{loading:l.value,"onUpdate:loading":n[0]||(n[0]=e=>l.value=e),finished:p.value,"finished-text":t.value.length>0?"没有更多了":"",onLoad:C},{default:k(()=>[(d(!0),f(x,null,y(t.value,e=>(d(),f("div",{style:{position:"relative","background-color":"white"},key:e.goods_id},[v(G,{from:"collect",product:e},null,8,["product"]),K]))),128))]),_:1},8,["loading","finished","finished-text"]),!s.value&&t.value.length===0?(d(),A(I,{key:0,description:"还没有数据~"})):M("",!0)]),_:1},8,["modelValue"])],64)}}});const pe=J(Q,[["__scopeId","data-v-38df0526"]]);export{pe as default};
